<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="WithoutHeader" owl="1">
        <div class="pos-receipt" t-att-style="_getStyleOfReceipt">
            <t t-if="receipt.header_html or receipt.header">
                <div t-if='receipt.header_html' class="pos-receipt-center-align">
                    <div class="receipt-line">
                        <span class="pos-receipt-center-align">
                            <t t-raw="receipt.header_html"/>
                        </span>
                    </div>
                </div>
                <div t-if='!receipt.header_html and receipt.header' class="pos-receipt-center-align">
                    <div class="receipt-line">
                        <span class="pos-receipt-center-align">
                            <t t-esc="receipt.header"/>
                        </span>
                    </div>
                </div>
            </t>
            <div t-if="env.pos.config.html_receipt_design and env.pos.config.html_header">
                <t t-raw="env.pos.config.html_header"/>
            </div>
            <t t-if="!receipt.company.logo">
                <h2 class="pos-receipt-center-align">
                    <t t-esc="receipt.company.name"/>
                </h2>
                <br/>
            </t>
            <div class="pos-receipt-contact center-page">
                <t t-if="receipt.company.contact_address">
                    <div><t t-esc="receipt.company.contact_address" /></div>
                </t>
                <t t-if="receipt.company.phone">
                    <div>Tel:<t t-esc="receipt.company.phone"/></div>
                </t>
                <t t-if="receipt.company.vat">
                    <div><t t-esc="receipt.company.vat_label"/>:
                        <t t-esc="receipt.company.vat"/></div>
                </t>
<!--                <t t-if="receipt.company.email">-->
<!--                    <div><t t-esc="receipt.company.email" /></div>-->
<!--                </t>-->
<!--                <t t-if="receipt.company.website">-->
<!--                    <div><t t-esc="receipt.company.website" /></div>-->
<!--                </t>-->
                <t t-if="receipt.header_html">
                    <t t-raw="receipt.header_html"/>
                </t>
                <t t-if="!receipt.header_html and receipt.header">
                    <div style="white-space:pre-line"><t t-esc="receipt.header" /></div>
                </t>
            </div>
            <div class="receipt-line text-bold text-center" t-if="receipt.restaurant and receipt.table">
                Table: <t t-esc="receipt.table"/>
            </div>
            <div class="receipt-line text-bold text-center" t-if="env.pos.config.receipt_title and !props.isBill">
                <t t-raw="env.pos.config.receipt_title"/>
            </div>
            <div class="receipt-line text-bold text-center" t-if="props.isBill">
                ------ Bill Draft ------
            </div>
            <div class="pos-receipt-contact left-page">
                <div class="receipt-line" t-if="receipt.booking_uid">
                    <h5>Booking Ref : <t t-esc='receipt.booking_uid'/></h5>
                </div>
<!--                <div class="receipt-line">-->
<!--                    <span>-->
<!--                        POS: <t t-esc="env.pos.config.name"/>-->
<!--                    </span>-->
<!--                </div>-->
<!--                <div class="receipt-line" t-if="receipt.sequence_number and env.pos.config.display_sequence_number">-->
<!--                    <span>-->
<!--                        Sequence Number:-->
<!--                    </span>-->
<!--                    <span t-esc="receipt.sequence_number" class="pos-receipt-right-align"/>-->
<!--                </div>-->
<!--                <div class="receipt-line" t-if="receipt.restaurant">-->
<!--                    <span>-->
<!--                        Check In:-->
<!--                    </span>-->
<!--                    <span class="pos-receipt-right-align">-->
<!--                        <t t-esc="receipt.checkin_time"/>-->
<!--                    </span>-->
<!--                </div>-->
<!--                <div class="receipt-line" t-if="receipt.restaurant">-->
<!--                    <span>-->
<!--                        Check Out:-->
<!--                    </span>-->
<!--                    <span class="pos-receipt-right-align">-->
<!--                        <t t-esc="receipt.checkout_time"/>-->
<!--                    </span>-->
<!--                </div>-->
<!--                <div class="receipt-line" t-if="receipt.cashier">-->
<!--                    <span>-->
<!--                        Sale Person:-->
<!--                    </span>-->
<!--                    <span t-esc="receipt.cashier" class="pos-receipt-right-align"/>-->
<!--                </div>-->
                <div class="receipt-line" t-if="receipt.served_by">
                    <span>
                        POS: <t t-esc="env.pos.config.name"/>
                    </span>
                    <span class="pos-receipt-right-align">
                        Served by: <t t-esc="receipt.served_by.name"/>
                    </span>
                </div>

                <div class="receipt-line" t-if="receipt.guest">
                    <span>
                        Guest:
                    </span>
                    <span t-esc="receipt.guest" class="pos-receipt-right-align"/>
                </div>
                <div class="receipt-line" t-if="receipt.guest">
                    <span>
                        Guest Number:
                    </span>
                    <span t-esc="receipt.guest_number" class="pos-receipt-right-align"/>
                </div>
                <div class="receipt-line" t-if='receipt.company.company_registry'>
                    <span>
                        Company Register No:
                    </span>
                    <span t-esc="receipt.company.company_registry" class="pos-receipt-right-align"/>
                </div>
                <t t-if="receipt.client">
                    <div class="receipt-line">
                        <span>
                            Customer
                        </span>
                        <span t-esc="receipt.client.name" class="pos-receipt-right-align"/>
                    </div>
                    <t t-if="env.pos.config.display_full_customer_information">
                        <div class="receipt-line" t-if="receipt.client.vat">
                            <span>
                                VAT
                            </span>
                            <span t-esc="receipt.client.vat" class="pos-receipt-right-align"/>
                        </div>
                        <div class="receipt-line" t-if="receipt.client.email">
                            <span>
                                Email
                            </span>
                            <span t-esc="receipt.client.email" class="pos-receipt-right-align"/>
                        </div>
                        <t t-set="client_phone" t-value="receipt.client.phone"/>
                        <t t-if="!client_phone">
                            <t t-set="client_phone" t-value="receipt.client.mobile"/>
                        </t>
                        <div class="receipt-line" t-if="client_phone">
                            <span>
                                Phone/Mobile
                            </span>
                            <span t-esc="client_phone" class="pos-receipt-right-align"/>
                        </div>
                    </t>
                </t>
                <t t-if="receipt.internal_ref">
                    <div class="receipt-line">
                        <div class="receipt-line">
                            <h5>Internal Transfer: <t t-esc='receipt.internal_ref'/></h5>
                        </div>
                    </div>
                </t>
                <t t-if="receipt.purchase_ref">
                    <div class="receipt-line">
                        <div class="receipt-line">
                            <h5>Purchase Order : <t t-esc='receipt.purchase_ref'/></h5>
                        </div>
                    </div>
                </t>
                <t t-if="receipt.invoice_ref">
                    <div class="receipt-line">
                        Invoice Ref
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.invoice_ref"/>
                        </span>
                    </div>
                </t>
                <t t-if="receipt.picking_ref">
                    <div class="receipt-line">
                        Delivery Ref
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.picking_ref"/>
                        </span>
                    </div>
                </t>
                <t t-if="env.pos.config.shipping_order and receipt.shipping_client">
                    <div class="receipt-line text-center">
                        ---------- Shipping Information ----------
                    </div>
                    <div class="receipt-line">
                        <div class="receipt-line">
                            Customer:
                            <span class="pos-receipt-right-align">
                                <t t-esc="receipt.shipping_client.name"/>
                            </span>
                        </div>
                        <div class="receipt-line">
                            Address:
                            <span class="pos-receipt-right-align">
                                <t t-if="receipt.shipping_client.street">
                                    <t t-esc="receipt.shipping_client.street"/>
                                </t>
                                <t t-if="receipt.shipping_client.street2">
                                    <t t-esc="receipt.shipping_client.street2"/>
                                </t>
                            </span>
                        </div>
                        <div class="receipt-line">
                            Phone:
                            <span class="pos-receipt-right-align">
                                <t t-if="receipt.shipping_client.phone">
                                    <t t-esc="receipt.shipping_client.phone"/>
                                </t>
                                <t t-if="receipt.shipping_client.street2">
                                    / <t t-esc="receipt.shipping_client.mobile"/>
                                </t>
                            </span>
                        </div>
                        <div class="receipt-line">
                            Comment:
                            <span class="pos-receipt-right-align">
                                <t t-if="receipt.shipping_client.comment">
                                    <t t-esc="receipt.shipping_client.comment"/>
                                </t>
                            </span>
                        </div>
                        <div class="receipt-line">
                            Notes:
                            <span class="pos-receipt-right-align">
                                <t t-if="receipt.order.get_note()">
                                    <t t-esc="receipt.order.get_note()"/>
                                </t>
                            </span>
                        </div>
                    </div>
                </t>
                <t t-if='receipt.delivery_name'>
                    <div class="receipt-line">
                        <span>Shipping to</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.delivery_name"/>
                        </span>
                    </div>
                </t>
                <t t-if='receipt.delivery_address'>
                    <div class="receipt-line">
                        <span>Shipping Address</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.delivery_address"/>
                        </span>
                    </div>
                </t>
                <t t-if='receipt.delivery_date'>
                    <div class="receipt-line">
                        <span>Shipping Date</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.delivery_date"/>
                        </span>
                    </div>
                </t>
                <t t-if='receipt.delivery_phone'>
                    <div class="receipt-line">
                        <span>Shipping Phone</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.delivery_phone"/>
                        </span>
                    </div>
                </t>
                <t t-if="receipt.origin">
                    <div class="receipt-line">
                        <span>Origin</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.origin"/>
                        </span>
                    </div>
                </t>
                <t t-if="receipt.date_order">
                    <div class="receipt-line">
                        <span>Date Order</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.date_order"/>
                        </span>
                    </div>
                </t>
                <t t-if="receipt.delivery_man">
                    <div class="receipt-line">
                        <span>Delivery Man</span>
                        <span class="pos-receipt-right-align">
                            <t t-esc="receipt.delivery_man.name"/>
                        </span>
                    </div>
                </t>
                <t t-if="orderFieldsExtend">
                    <div class="receipt-line text-right">
                        ---------------
                    </div>
                    <t t-foreach="orderFieldsExtend" t-as="field_description" t-key="field_description">
                        <t t-set="value" t-value="orderFieldsExtend[field_description]"/>
                        <t t-if="value.length == 2">
                            <div class="receipt-line">
                                <t t-esc="field_description"/>
                                <span class="pos-receipt-right-align">
                                    <t t-esc="orderFieldsExtend[field_description][1]"/>
                                </span>
                            </div>
                        </t>
                        <t t-else="">
                            <div class="receipt-line">
                                <t t-esc="field_description"/>
                                <span class="pos-receipt-right-align">
                                    <t t-esc="orderFieldsExtend[field_description]"/>
                                </span>
                            </div>
                        </t>
                    </t>
                </t>
                <t t-if="deliveryFieldsExtend">
                    <div class="receipt-line text-right">
                        ---------------
                    </div>
                    <t t-foreach="deliveryFieldsExtend" t-as="field_description" t-key="field_description">
                        <t t-set="value" t-value="deliveryFieldsExtend[field_description]"/>
                        <t t-if="value.length == 2">
                            <div class="receipt-line">
                                <t t-esc="field_description"/>
                                <span class="pos-receipt-right-align">
                                    <t t-esc="deliveryFieldsExtend[field_description][1]"/>
                                </span>
                            </div>
                        </t>
                        <t t-else="">
                            <div class="receipt-line">
                                <t t-esc="field_description"/>
                                <span class="pos-receipt-right-align">
                                    <t t-esc="deliveryFieldsExtend[field_description]"/>
                                </span>
                            </div>
                        </t>
                    </t>
                </t>
                <t t-if="invoiceFieldsExtend">
                    <div class="receipt-line text-right">
                        ---------------
                    </div>
                    <t t-foreach="invoiceFieldsExtend" t-as="field_description" t-key="field_description">
                        <t t-set="value" t-value="invoiceFieldsExtend[field_description]"/>
                        <t t-if="value.length == 2">
                            <div class="receipt-line">
                                <t t-esc="field_description"/>
                                <span class="pos-receipt-right-align">
                                    <t t-esc="invoiceFieldsExtend[field_description][1]"/>
                                </span>
                            </div>
                        </t>
                        <t t-else="">
                            <div class="receipt-line">
                                <t t-esc="field_description"/>
                                <span class="pos-receipt-right-align">
                                    <t t-esc="invoiceFieldsExtend[field_description]"/>
                                </span>
                            </div>
                        </t>
                    </t>
                </t>
            </div>
            <div class="receipt-line text-center">
                -----------***-----------
            </div>
            <table class='summary-table report-small'>
                <colgroup>
                    <col width='50%'/>
                    <col width='10%'/>
                    <col width='15%'/>
                    <col width='25%'/>
                </colgroup>
                <tr class="receipt-line">
                    <td style="text-align: left">
                        Item
                    </td>
                    <td style="text-align: center">
                        Qty
                    </td>
                    <td style="text-align: right">
                        Price
                    </td>
                    <td style="text-align: right">
                        Total
                    </td>
                </tr>
                <t t-set="noOfLine" t-value="1"/>
                <t t-if="!receipt.orderlines_by_category_name">
                    <t t-foreach="orderlines" t-as="line" t-key="line.id">
                        <tr class="receipt-line">
                            <td style="text-align: left">
                                <ReceiptProductName line="line" noOfLine="noOfLine"/>
                                <OrderReceiptLineExtra line="line"/>
                            </td>
                            <td style="text-align: center" class="product-line-name">
                                <t t-esc="env.pos.format_currency_no_symbol(line.quantity)"/>
                                <t t-if="line.get_unit()['name'] != 'Units'">
                                    <span> <t t-esc="line.get_unit()['name']"/></span>
                                </t>
                            </td>
                            <td style="text-align: right" class="product-line-name">
                                <span><t t-esc="env.pos.format_currency_no_symbol(line.price)"/></span>
                                <t t-if="env.pos.config.display_tax_receipt and line.get_tax() > 0">
                                    <div class="product-line-name" style="font-size: 50% !important">
                                        Taxes: <t t-esc="env.pos.format_currency_no_symbol(line.get_tax())"/>
                                    </div>
                                </t>
                            </td>
                            <td style="text-align: right" class="product-line-name">
                                <t t-esc="env.pos.format_currency_no_symbol(line.get_price_with_tax())"/>
                            </td>
                            <t t-set="noOfLine" t-value="noOfLine + 1"/>
                        </tr>
                    </t>
                </t>
                <t t-else="">
                    <t t-foreach='receipt.orderlines_by_category_name' t-as='categ' t-key="categ">
                        <tr class="receipt-line">
                            <td style="width: 100% !important; border-bottom: unset !important; text-align: left">
                                <t t-esc="categ"/>
                                - with
                                <t t-esc="receipt.orderlines_by_category_name[categ].length"/>
                                Items
                            </td>
                        </tr>
                        <t t-foreach='receipt.orderlines_by_category_name[categ]' t-as='line' t-key="line.id">
                            <tr class="receipt-line">
                                <td style="text-align: left" class="product-line-name">
                                    <ReceiptProductName line="line" noOfLine="noOfLine"/>
                                    <OrderReceiptLineExtra line="line"/>
                                </td>
                                <td style="text-align: center" class="product-line-name">
                                    <t t-esc="env.pos.format_currency_no_symbol(line.quantity)"/>
                                    <t t-if="line.get_unit()['name'] != 'Units'">
                                        <span> <t t-esc="line.get_unit()['name']"/></span>
                                    </t>
                                </td>
                                <td style="text-align: right" class="product-line-name">
                                    <span><t t-esc="env.pos.format_currency_no_symbol(line.price)"/></span>
                                    <t t-if="env.pos.config.display_tax_receipt and line.get_tax() > 0">
                                        <div class="product-line-name" style="font-size: 50% !important">
                                            Taxes: <t t-esc="env.pos.format_currency_no_symbol(line.get_tax())"/>
                                        </div>
                                    </t>
                                </td>
                                <td style="text-align: right" class="product-line-name">
                                    <t t-esc="env.pos.format_currency_no_symbol(line.get_price_with_tax())"/>
                                </td>
                                <t t-set="noOfLine" t-value="noOfLine + 1"/>
                            </tr>
                        </t>
                    </t>
                </t>

            </table>
            <t t-set='taxincluded' t-value='Math.abs(receipt.subtotal - receipt.total_with_tax) &lt;= 0.000001'/>
            <t t-if='!taxincluded'>
                <t t-if="env.pos.config.receipt_display_subtotal">
                    <div class="receipt-line">
                        <span data-tag="el_subtotal">
                            Subtotal
                        </span>
                        <span class='pos-receipt-right-align'>
                            <t t-esc='env.pos.format_currency_no_symbol(receipt.subtotal)'/>
                        </span>

                    </div>
                </t>
                <t t-if="env.pos.config.receipt_display_taxes">
                    <t t-foreach='receipt.tax_details' t-as='tax' t-key="tax.id">
                        <div class="receipt-line">
                            <t t-esc='tax.name'/>
                            <span t-esc='env.pos.format_currency_no_symbol(tax.amount)'
                                  class="pos-receipt-right-align"/>
                        </div>
                    </t>
                </t>
            </t>
            <div class="pos-receipt-amount" style="line-height: 25px; border-bottom: 1px dotted">
                TOTAL:
                <span t-esc="env.pos.format_currency(receipt.total_with_tax)" class="pos-receipt-right-align"/>
            </div>
            <t t-if="receipt.total_rounded != receipt.total_with_tax">
                <div class="pos-receipt-amount">
                  Rounding
                <span t-esc='env.pos.format_currency(receipt.rounding_applied)' class="pos-receipt-right-align"/>
                </div>
                <div class="pos-receipt-amount">
                  To Pay
                 <span t-esc='env.pos.format_currency(receipt.total_rounded)' class="pos-receipt-right-align"/>
              </div>
            </t>

            <t t-foreach="receipt.paymentlines" t-as="line" t-key="line.cid">
                <div class="receipt-line">
                    <span>
                        <t t-esc='line.name' style="font-weight: 500"/>
                        <t t-if="line.ref">
                            Ref: <t t-esc='line.ref'/>
                        </t>
                        <t t-if="line.cheque_check_number">
                            Cheque: <t t-esc='line.cheque_check_number'/>
                        </t>
                    </span>
                    <span class="pos-receipt-right-align">
                        <t t-esc='env.pos.format_currency(line.amount)'/>
                    </span>
                </div>
            </t>
            <div class="pos-receipt-amount receipt-change" style="line-height: 25px">
                CHANGE:
                <span t-esc="env.pos.format_currency(receipt.change)" class="pos-receipt-right-align"/>
                <t t-if="env.pos.get_order().get_differene_currency_change()">
                    ( <t t-esc="env.pos.get_order().get_differene_currency_change()"/>
                    )
                </t>
            </div>
            <t t-if="env.pos.config.receipt_display_taxes and isTaxIncluded">
                <table class='summary-table report-small'>
                    <colgroup>
                        <col width='60%'/>
                        <col width='40%'/>
                    </colgroup>
                    <tr class="receipt-line">
                        <td style="text-align: left">
                            Tax Name
                        </td>
                        <td style="text-align: right">
                            Amount
                        </td>
                    </tr>
                    <t t-foreach='receipt.tax_details' t-as='tax' t-key="tax.name">
                        <tr class="receipt-line">
                            <td style="text-align: left">
                                <t t-esc='tax.name'/>
                            </td>
                            <td style="text-align: right">
                                <t t-esc="env.pos.format_currency_no_symbol(tax.amount)"/>
                            </td>
                        </tr>
                    </t>
                </table>
                <div class="receipt-line" t-if="receipt.total_tax">
                    <span>
                        Total Taxes
                    </span>
                    <span t-esc="env.pos.format_currency_no_symbol(receipt.total_tax)" class="pos-receipt-right-align"/>
                </div>
<!--                <div class="receipt-line" t-if="receipt.currency">-->
<!--                    <span>-->
<!--                        Currency-->
<!--                    </span>-->
<!--                    <span t-esc="receipt.currency.name" class="pos-receipt-right-align"/>-->
<!--                </div>-->
            </t>

            <div class='before-footer'/>

            <div class='after-footer'>
                <t t-foreach='receipt.paymentlines' t-as='line'>
                    <t t-if='line.ticket'>
                        <div class="pos-payment-terminal-receipt">
                            <t t-raw='line.ticket'/>
                        </div>
                    </t>
                </t>
            </div>
            <div class="receipt-line" t-if="receipt.note">
                <span class="amount_total">Note</span>
                <span t-esc='receipt.note' class="pos-receipt-right-align"/>
            </div>
            <div class="receipt-line" t-if="receipt.order and receipt.order.get_signature()">
                <span class="amount_total">Signature</span>
                <span class="pos-receipt-right-align">
                    <img class="product-img signature"
                         t-att-src="receipt.order.get_signature() || ''"
                         style="max-height:400px;max-width:100px"
                    />
                </span>
            </div>
            <div class="receipt-line" t-if="env.pos.config.display_return_days_receipt">
                <span>Period Days Return</span>
                <span t-esc="env.pos.config.pos_order_period_return_days" class="pos-receipt-right-align">
                    Days
                </span>
            </div>

            <div t-if="env.pos.config.html_receipt_design and env.pos.config.html_footer">
                <t t-raw="env.pos.config.html_footer"/>
            </div>
<!--            <t t-if="receipt.location and env.pos.config.receipt_display_warehouse">-->
<!--                <div class="receipt-line">-->
<!--                    <span>-->
<!--                        Source Location-->
<!--                    </span>-->
<!--                    <span t-esc='receipt.location.display_name' class="pos-receipt-right-align"/>-->
<!--                </div>-->
<!--            </t>-->
<!--            <t t-if="receipt.plus_point">-->
<!--                <div class="receipt-line">-->
<!--                    <span>-->
<!--                        Points Earned-->
<!--                    </span>-->
<!--                    <span t-esc="env.pos.format_currency_no_symbol(receipt.plus_point)"-->
<!--                          class="pos-receipt-right-align"/>-->
<!--                </div>-->
<!--            </t>-->
<!--            <t t-if="receipt.redeem_point">-->
<!--                <div class="receipt-line">-->
<!--                    <span>-->
<!--                        Points Redeem-->
<!--                    </span>-->
<!--                    <span t-esc="env.pos.format_currency_no_symbol(receipt.redeem_point)"-->
<!--                          class="pos-receipt-right-align"/>-->
<!--                </div>-->
<!--            </t>-->
            <div class="pos-receipt-order-data">
                <div t-if="!receipt.order.pos_reference"><t t-esc="receipt.name" /></div>
                <div t-if="receipt.order.pos_reference"><t t-esc="receipt.order.pos_reference" /></div>
                <t t-if="receipt.date.localestring">
                    <div><t t-esc="receipt.date.localestring" /></div>
                </t>
                <t t-if="receipt.order.pos_reference and receipt.date_order">
                    <div><t t-esc="receipt.date_order" /></div>
                </t>
            </div>
<!--            <div class="pos-receipt-order-data"-->
<!--                 t-if="receipt.ean13 or receipt.order.ean13 and env.pos.config.barcode_receipt">-->
<!--                <div t-if="receipt.ean13">-->
<!--                    <img t-att-src="'/report/barcode/EAN13/'+ receipt.ean13"-->
<!--                         style="width:80%;height:20mm;max-width: 80mm"-->
<!--                         alt="Barcode"/>-->
<!--                </div>-->
<!--                <div t-if="receipt.order.ean13">-->
<!--                    <img t-att-src="'/report/barcode/EAN13/'+ receipt.order.ean13"-->
<!--                         style="width:80%;height:20mm;max-width: 80mm"-->
<!--                         alt="Barcode"/>-->
<!--                </div>-->
<!--                <div t-if="receipt.ean13">-->
<!--                    Barcode: <t t-esc="receipt.ean13"/>-->
<!--                    <span t-if="receipt.order.ean13" t-esc="receipt.order.ean13" class="pos-receipt-right-align"/>-->
<!--                </div>-->
<!--                <div t-if="receipt.order.ean13">-->
<!--                    BarCode: <t t-esc="receipt.order.ean13"/>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="pos-receipt-order-data" t-if="env.pos.config.qrcode_receipt and receipt.qrCodeLink">-->
<!--                <br/>-->
<!--                <div>-->
<!--                    <img t-att-src="'/report/barcode/QR/'+ receipt.qrCodeLink"-->
<!--                         style="width: 20mm; height: 20mm"/>-->
<!--                </div>-->
<!--            </div>-->
            <br/>
            <!-- Footer -->
            <div t-if='receipt.footer_html' class="pos-receipt-center-align">
                <div class="receipt-line">
                    <span class="pos-receipt-center-align">
                        <t t-raw='receipt.footer_html'/>
                    </span>
                </div>
            </div>

            <div t-if='!receipt.footer_html and receipt.footer' class="pos-receipt-center-align">
                <div class="receipt-line">
                    <span class="pos-receipt-center-align">
                        <t t-esc='receipt.footer'/>
                    </span>
                </div>
            </div>
            <!--            <div class="barcode-ean13" t-if="env.pos.config.barcode_receipt">-->
            <!--                <img id="barcode" class="footer_barcode" style="width: 100%"/>-->
            <!--                <script type="text/javascript">-->
            <!--                    if ($("#barcode").length ==1) {-->
            <!--                        JsBarcode("#barcode", window.posmodel.get_order().ean13, {-->
            <!--                            format: "EAN13",-->
            <!--                            displayValue: true,-->
            <!--                            fontSize: 14-->
            <!--                        });-->
            <!--                    }-->
            <!--                </script>-->
            <!--            </div>-->
            <t t-if="receipt.generated_coupons and receipt.generated_coupons.length !== 0">
                <div class="pos-coupon-rewards">
                    <div>------------------------</div>
                    <br/>
                    <div>
                        Coupon Codes
                    </div>
                    <t t-foreach="receipt.generated_coupons" t-as="coupon_info" t-key="coupon_info.code">
                        <div class="coupon-container">
                            <div style="font-size: 110%;">
                                <t t-esc="coupon_info['program_name']"/>
                            </div>
                            <div>
                                <span>Valid until: </span>
                                <t t-esc="coupon_info['expiration_date'] ? coupon_info['expiration_date'] : 'no expiration'"/>
                            </div>
                            <div>
                                <img t-att-src="'/report/barcode/Code128/'+coupon_info['code']"
                                     style="width:200px;height:50px" alt="Barcode"/>
                            </div>
                            <div>
                                <t t-esc="coupon_info['code']"/>
                            </div>
                        </div>
                    </t>
                </div>
            </t>

        </div>
    </t>

</templates>
